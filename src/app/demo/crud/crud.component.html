<div  *ngIf="crudConfig !== null"  class="row h-100 ">
    
    <div class="col h-100" 
        [hidden]="!showCenter" 
        [class.col-md-6]="!centerExpanded" 
        [class.col-md-12]="centerExpanded">

    

        <div class="row">
            <div class="col-md-12">
                <div class="d-flex align-items-center">
                    <h3> {{ crudConfig?.entityTitlePlural | titlecase}} </h3>
                    <button mat-button class="ml-auto" (click)="openCreateForm()">
                        <i class="fas fa-plus"></i> Create {{ crudConfig?.entityTitle }}</button>
                </div>
            </div>
        </div>


        <crud-table
            (onEntitySelect)="selectEntity($event)" 
            [entities]="entities" 
            [selectedEntityId]="1"
            [columns]="crudConfig.showColumns">
        </crud-table>


        <!-- <button *ngIf="!showRight" mat-button (click)="shrinkRight()" >
            Open Right
        </button> -->
    </div>

<div id="Right" class="col h-100"  
    style="border-left: 1px solid #c5c5c5;"
    [hidden]="!showRight" 
    [class.col-md-6]="!rightExpanded" 
    [class.col-md-12]="rightExpanded">

  
    <div class="toggles">
        <span class="float-right" (click)="closeRight()">
            <i class="fas fa-times close-right"></i>
        </span>
        <span *ngIf="!rightExpanded" class="expand-right float-left" (click)="expandRight()">
            <i class="fas fa-expand-arrows-alt"></i>
        </span>
        <span *ngIf="rightExpanded" class="shrink-right float-left" (click)="shrinkRight()">
            <i class="fas fa-compress"></i>
        </span>
        <div class="clear-both" style="clear:both"></div>
    </div>




    <div *ngIf="selectedEntity">
        <div>
            <div class="float-right">
                <button (click)="setRightContent('ViewSelected')"
                mat-button
                matTooltip="View" 
                [matTooltipPosition]="'above'" 
                aria-label="">
                <i class="fas fa-eye"></i>
                    </button>   

                    <button (click)="setRightContent('UpdateForm')"
                    mat-button
                    matTooltip="Edit" 
                    [matTooltipPosition]="'above'" 
                    aria-label="">
                    <i class="fas fa-edit"></i>
                    </button>  


                        <button (click)="deleteEntity(selectedEntity)"
                        mat-button
                        matTooltip="Delete" 
                        [matTooltipPosition]="'above'" 
                        aria-label="">
                        <i class="fas fa-trash-alt"></i>
                        </button>  
            </div>

            <div style="clear:both"></div>



        </div>



        <div *ngIf="rightContent == 'ViewSelected'">
            <h3> View {{ crudConfig?.entityTitle | titlecase}} </h3>

            <pre>{{ selectedEntity | json }}</pre>
        </div>




    </div>


    <div *ngIf="rightContent == 'CreateForm' || rightContent == 'UpdateForm'">
        <h4 *ngIf="rightContent == 'CreateForm'">Create new {{ crudConfig?.entityTitle }} </h4>
        <h4 *ngIf="rightContent == 'UpdateForm'">Update {{ crudConfig?.entityTitle }}</h4>


        <!-- <crud-form 
        [formConfig]="formConfig" 
        [entity]="selectedEntity" 
        [rightContent]="rightContent$ | async" 
        (create)="onCreate($event)"
        (update)="onUpdate($event)" 
        (remove)="onDelete($event)"></crud-form> -->




        <crud-form
        [formModel]="formModel" 
        [entity]="selectedEntity" 
        [rightContent]="rightContent"></crud-form>


    </div>

</div>
</div>


